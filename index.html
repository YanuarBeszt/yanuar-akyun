<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Undangan — Yanuar & Akyun (3D Motion)</title>
<meta name="description" content="Undangan pernikahan Yanuar & Akyun — nuansa tradisional Jawa, putih & emas, animasi 3D" />
<!-- three.js CDN -->
<script src="https://cdn.jsdelivr.net/npm/three@0.158.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.158.0/examples/js/controls/OrbitControls.js"></script>

<style>
  :root{
    --bg:#ffffff;
    --gold:#c99b2d;
    --muted:#6b6b6b;
    --card-bg: rgba(255,255,255,0.98);
    --container:1100px;
    --smooth: cubic-bezier(.2,.9,.2,1);
  }
  *{box-sizing:border-box}
  body{
    margin:0; font-family:Inter, "Segoe UI", Arial, sans-serif;
    background: linear-gradient(180deg, #fff 0%, #fcfcfc 100%);
    color:#222; -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    line-height:1.5;
  }
  .wrap{max-width:var(--container); margin:0 auto; padding:30px 18px;}
  section{min-height:100vh; display:flex; align-items:center; justify-content:center; padding:60px 12px; position:relative;}
  .panel{width:100%; max-width:980px; background:var(--card-bg); padding:36px; border-radius:14px; box-shadow:0 18px 40px rgba(0,0,0,0.06); border:1px solid rgba(201,155,45,0.07); opacity:0; transform:translateY(30px) scale(.995); transition:opacity .7s var(--smooth), transform .7s var(--smooth);}
  .panel.visible{opacity:1; transform:translateY(0) scale(1);}

  /* Top / hero */
  .hero{display:flex; gap:30px; align-items:center; justify-content:space-between; flex-wrap:wrap;}
  .hero-left{flex:1; min-width:260px}
  .title{
    font-family: "Playfair Display", serif;
    font-size:46px; margin:0 0 6px; color:#111;
    letter-spacing:0.6px;
  }
  .subtitle{color:var(--muted); margin:0 0 12px;}
  .open-btn{display:inline-block;padding:12px 20px;border-radius:30px;background:linear-gradient(90deg,var(--gold),#f6d77f);color:white;font-weight:700;border:none;cursor:pointer;box-shadow:0 12px 26px rgba(201,155,45,0.12)}
  .ornamen-mini{height:6px;width:160px;border-radius:6px;background:linear-gradient(90deg,var(--gold),#f6d77f); margin:8px 0 18px; box-shadow:0 6px 12px rgba(201,155,45,0.08)}

  /* threejs canvas area */
  #three-container{flex:0 0 420px; width:420px; height:340px; border-radius:12px; overflow:hidden; background:linear-gradient(180deg, rgba(201,155,45,0.03), rgba(0,0,0,0.01)); border:1px solid rgba(201,155,45,0.06); display:flex; align-items:center; justify-content:center}
  #three-container canvas{width:100%; height:100%; display:block}

  /* initials */
  .initials{text-align:center; font-family:"Playfair Display", serif; color:var(--gold); font-size:74px; margin:0}
  .date{color:var(--muted); font-weight:600; margin-top:8px; letter-spacing:0.6px}

  /* invitation text */
  .invitation-text{font-size:18px; color:#222; line-height:1.9}
  .quran{margin-top:14px;padding:12px;border-left:4px solid var(--gold); background:linear-gradient(180deg, rgba(249,244,230,0.5), rgba(255,255,255,0.5)); border-radius:8px; font-style:italic; color:#333}

  /* profile cards */
  .profile-wrap{display:flex; gap:26px; justify-content:center; align-items:flex-start; flex-wrap:wrap}
  .card{width:300px; text-align:center; padding:18px; border-radius:12px; background:rgba(255,255,255,0.98); border:1px solid rgba(201,155,45,0.06)}
  .avatar{width:140px;height:140px;margin:0 auto 12px; display:block}
  .name{font-weight:700; margin-bottom:6px}
  .parents{color:var(--muted)}

  /* event */
  .event{ text-align:center; font-size:18px }
  .mapframe{width:100%; height:420px; margin-top:16px; border-radius:10px; overflow:hidden; border:1px solid rgba(0,0,0,0.06)}

  /* rsvp */
  .rsvp-form{display:flex; gap:10px; flex-wrap:wrap; justify-content:center; align-items:center; margin-top:12px}
  .rsvp-form input, .rsvp-form textarea{padding:10px 12px; border-radius:8px; border:1px solid rgba(0,0,0,0.07); min-width:210px}
  .rsvp-send{background:var(--gold); color:white; border:none; padding:10px 14px; border-radius:8px; font-weight:700; cursor:pointer}

  footer{text-align:center; color:var(--muted); padding:28px 0 80px}

  /* responsive */
  @media (max-width:880px){
    #three-container{width:320px;height:260px}
    .title{font-size:34px}
    .initials{font-size:56px}
  }
</style>
</head>
<body>
  <div class="wrap">
    <!-- SECTION 1: Hero with 3D motion -->
    <section id="section-1" aria-label="Pembuka">
      <div class="panel hero" id="panel-1">
        <div class="hero-left">
          <div class="ornamen-mini" aria-hidden="true"></div>
          <h1 class="title">Yanuar &amp; Akyun</h1>
          <p class="subtitle">Dengan penuh suka cita kami mengundang Bapak/Ibu/Saudara/i untuk hadir di acara pernikahan kami</p>
          <button class="open-btn" id="open-invite">Buka Undangan</button>
        </div>

        <!-- 3D canvas -->
        <div id="three-container" aria-hidden="true"></div>
      </div>
    </section>

    <!-- SECTION 2: Initials & date -->
    <section id="section-2" aria-label="Inisial dan tanggal">
      <div class="panel" id="panel-2">
        <div style="text-align:center">
          <div class="initials">Y &amp; A</div>
          <div class="date">7 Februari 2026</div>
        </div>
      </div>
    </section>

    <!-- SECTION 3: Invitation + QS Ar-Rum 21 -->
    <section id="section-3" aria-label="Teks undangan">
      <div class="panel" id="panel-3">
        <div class="invitation-text">
          <p>Assalamu'alaikum warahmatullahi wabarakatuh.<br/>
             Dengan penuh rasa syukur dan harap ridho Allah SWT, kami mengundang Bapak/Ibu/Saudara/i untuk hadir serta mendoakan penyatuan kami dalam ikatan pernikahan. Kehadiran dan doa restu Bapak/Ibu sangat berarti bagi kami.</p>

          <div class="quran">
            <strong>QS. Ar-Rum (30):21 —</strong>
            “Dan di antara tanda-tanda (kebesaran)-Nya ialah Dia menciptakan untukmu istri-istri dari jenismu sendiri, supaya kamu cenderung dan merasa tenteram kepadanya, dan dijadikan-Nya di antaramu rasa kasih dan sayang...”<br/>
            <div style="text-align:right; color:var(--muted); font-weight:700; margin-top:8px;">(Ar-Rum : 21)</div>
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION 4: Profiles -->
    <section id="section-4" aria-label="Perkenalan pengantin">
      <div class="panel" id="panel-4">
        <div style="text-align:center; margin-bottom:12px">
          <div style="font-family: 'Amiri', serif; font-size:28px;">بسم الله الرحمن الرحيم</div>
          <div style="color:var(--muted); margin-top:6px">Dengan menyebut nama Allah, Yang Maha Pengasih lagi Maha Penyayang</div>
        </div>

        <div class="profile-wrap">
          <div class="card" aria-label="Profil Yanuar">
            <!-- simple vector avatar (male) -->
            <svg class="avatar" viewBox="0 0 200 240" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Avatar Yanuar">
              <circle cx="100" cy="64" r="36" fill="#f7d9c4"/>
              <path d="M64 64 q36 -40 72 0 q-36 8 -72 0z" fill="#3b2b1a"/>
              <rect x="40" y="110" width="120" height="100" rx="18" fill="#6a4422"/>
              <circle cx="88" cy="62" r="3" fill="#2b2b2b"/>
              <circle cx="112" cy="62" r="3" fill="#2b2b2b"/>
              <path d="M86 76 q14 12 28 0" stroke="#2b2b2b" stroke-width="2" fill="none"/>
            </svg>
            <div class="name">Yanuar Ridwan Hisyam</div>
            <div class="parents">Putra dari Bapak Agung Wahyono &amp; Ibu Aesti Amalia Azis</div>
          </div>

          <div class="card" aria-label="Profil Akyun">
            <svg class="avatar" viewBox="0 0 200 240" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="Avatar Akyun">
              <circle cx="100" cy="64" r="36" fill="#f7d9c4"/>
              <path d="M60 50 q40 -36 80 0 q-40 12 -80 0z" fill="#3b2b1a"/>
              <rect x="36" y="110" width="128" height="100" rx="18" fill="#7b3a4a"/>
              <circle cx="88" cy="62" r="3" fill="#2b2b2b"/>
              <circle cx="112" cy="62" r="3" fill="#2b2b2b"/>
              <path d="M90 78 q10 8 20 0" stroke="#2b2b2b" stroke-width="2" fill="none"/>
            </svg>
            <div class="name">Khurotul Akyun</div>
            <div class="parents">Putri dari Bapak Zainul Arifin &amp; Ibu Jamila</div>
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION 5: Event details + map -->
    <section id="section-5" aria-label="Detail acara">
      <div class="panel" id="panel-5">
        <div class="event">
          <h2 style="color:var(--gold); margin-top:0">Undangan Acara</h2>
          <div style="font-weight:700">Temu manten (di rumah)</div>
          <div>Jl. Api Jama'ari, Gang Tangjung, Gang Mulya, RT.03 / RW.11, Kel. Jogotrunan, Kec. Lumajang, Kab. Lumajang</div>
          <div style="margin-top:12px; font-weight:700">Tanggal & Waktu</div>
          <div>7 Februari 2026 — Akad: 13.00 WIB / Resepsi: 13.30 WIB</div>

          <div class="mapframe" aria-hidden="false">
            <iframe width="100%" height="100%" frameborder="0" style="border:0"
              src="https://www.google.com/maps?q=Jl.+Api+Jama%27ari,+Jogotrunan,+Lumajang&output=embed" allowfullscreen>
            </iframe>
          </div>
        </div>
      </div>
    </section>

    <!-- SECTION 6: RSVP + Bank -->
    <section id="section-6" aria-label="Konfirmasi">
      <div class="panel" id="panel-6">
        <div style="text-align:center">
          <h2 style="color:var(--gold); margin-top:0">Konfirmasi Kehadiran & Ucapan</h2>
          <p style="color:var(--muted)">Mohon konfirmasi via WhatsApp. Silakan isi nama, jumlah, dan ucapan/doa.</p>

          <form id="rsvp" class="rsvp-form" onsubmit="return handleRSVP(event)">
            <input type="text" id="guestName" placeholder="Nama (misal: Bapak Ahmad)" required />
            <input type="text" id="guestQty" placeholder="Jumlah hadir (misal: 2)" required />
            <textarea id="guestMsg" placeholder="Ucapan / do'a (opsional)" rows="1"></textarea>
            <button type="submit" class="rsvp-send">Kirim via WhatsApp</button>
          </form>

          <div style="margin-top:18px; font-weight:700">Donasi / Amplop</div>
          <div style="font-size:22px; color:var(--gold); margin-top:6px">BCA • <span id="bca-number">YOUR_BCA_ACCOUNT_NUMBER</span></div>
          <div style="color:var(--muted); margin-top:6px" id="bca-name">Atas nama: YOUR_BCA_ACCOUNT_NAME</div>
        </div>
      </div>
    </section>

    <footer>
      <div>Terima kasih atas perhatian & doanya. Wassalamu'alaikum.</div>
    </footer>
  </div>

  <!-- ======= Script: Intersection reveal, RSVP, and three.js 3D motion ======= -->
  <script>
  // Intersection Observer for reveal
  const panels = document.querySelectorAll('.panel');
  const io = new IntersectionObserver((entries)=>{
    entries.forEach(e=>{
      if(e.isIntersecting) e.target.classList.add('visible');
    });
  }, {threshold:0.22});
  panels.forEach(p=>io.observe(p));

  document.getElementById('open-invite').addEventListener('click', ()=> {
    document.getElementById('section-2').scrollIntoView({behavior:'smooth'});
  });

  // RSVP -> wa.me
  function phoneNumberForWA(){ return 'YOUR_PHONE_NUMBER_HERE'; } // replace
  function handleRSVP(e){
    e.preventDefault();
    const name = document.getElementById('guestName').value.trim();
    const qty = document.getElementById('guestQty').value.trim();
    const msg = document.getElementById('guestMsg').value.trim();
    const phone = phoneNumberForWA();
    if(!phone || phone.includes('YOUR_PHONE_NUMBER_HERE')){
      alert('Silakan ganti placeholder nomor WhatsApp di file (phoneNumberForWA) dengan nomor Anda agar tombol berfungsi.');
      return false;
    }
    let text = `Assalamualaikum, saya ${name} mengonfirmasi hadir sebanyak ${qty} orang.`;
    if(msg) text += ` Ucapan: ${msg}`;
    text += `%0A%0ATerima kasih.%0A(Yanuar & Akyun)`;
    const url = `https://wa.me/${phone}?text=${encodeURIComponent(text)}`;
    window.open(url, '_blank');
    return false;
  }

  // allow quick query param overrides: ?phone=...&bca=...&bca_name=...
  (function readQP(){
    const qp = new URLSearchParams(location.search);
    if(qp.has('phone')) window.phoneNumberForWA = ()=> qp.get('phone').replace(/\D/g,'');
    if(qp.has('bca')) document.getElementById('bca-number').textContent = qp.get('bca');
    if(qp.has('bca_name')) document.getElementById('bca-name').textContent = 'Atas nama: ' + qp.get('bca_name');
  })();

  /* =========================
     three.js: simple 3D wayang plane with SVG texture
     - creates a plane with embedded SVG (wayang silhouette)
     - rotates slowly and responds to mouse for parallax
     ========================= */
  (function initThree(){
    const container = document.getElementById('three-container');
    const width = container.clientWidth, height = container.clientHeight;
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(35, width/height, 0.1, 1000);
    camera.position.set(0, 0, 80);

    const renderer = new THREE.WebGLRenderer({antialias:true, alpha:true});
    renderer.setPixelRatio(window.devicePixelRatio || 1);
    renderer.setSize(width, height);
    container.appendChild(renderer.domElement);

    // light
    const ambient = new THREE.AmbientLight(0xffffff, 0.95);
    scene.add(ambient);
    const dir = new THREE.DirectionalLight(0xffe9b4, 0.6);
    dir.position.set(50,50,50); scene.add(dir);

    // create texture from SVG (embedded)
    const svg = `
      <svg xmlns='http://www.w3.org/2000/svg' width='800' height='800' viewBox='0 0 200 200'>
        <defs>
          <linearGradient id='g' x1='0' x2='1'>
            <stop offset='0' stop-color='#c99b2d'/>
            <stop offset='1' stop-color='#f2d48a'/>
          </linearGradient>
        </defs>
        <rect width='100%' height='100%' fill='transparent'/>
        <!-- stylized wayang silhouette -->
        <path d='M40 160 q40 -120 120 -120 q20 0 40 20 q-10 40 -60 70 q-60 50 -100 30z' fill='url(#g)' opacity='0.98'/>
        <path d='M160 160 q-40 -120 -120 -120 q-20 0 -40 20 q10 40 60 70 q60 50 100 30z' fill='rgba(0,0,0,0.08)' transform='translate(10,10)'/>
      </svg>
    `;
    const svgBlob = new Blob([svg], {type:'image/svg+xml;charset=utf-8'});
    const url = URL.createObjectURL(svgBlob);
    const textureLoader = new THREE.TextureLoader();
    textureLoader.load(url, (tex)=>{
      tex.needsUpdate = true;
      tex.anisotropy = renderer.capabilities.getMaxAnisotropy();
      const mat = new THREE.MeshStandardMaterial({map:tex, transparent:true, depthTest:true});
      const geo = new THREE.PlaneGeometry(80, 80 * (tex.image.height/tex.image.width));
      const mesh = new THREE.Mesh(geo, mat);
      mesh.rotation.y = Math.PI * 0.02;
      scene.add(mesh);

      // subtle bevel / duplicate layer for depth (shadow)
      const geo2 = new THREE.PlaneGeometry(82, 82 * (tex.image.height/tex.image.width));
      const mat2 = new THREE.MeshBasicMaterial({color:0x000000, opacity:0.06, transparent:true});
      const shadow = new THREE.Mesh(geo2, mat2); shadow.position.set(2,-3,-1);
      scene.add(shadow);

      // animate
      let targetX = 0, targetY = 0;
      container.addEventListener('mousemove', (ev)=>{
        const r = container.getBoundingClientRect();
        const nx = (ev.clientX - r.left - r.width/2) / r.width;
        const ny = (ev.clientY - r.top - r.height/2) / r.height;
        targetX = nx * 0.6;
        targetY = -ny * 0.4;
      });
      function animate(){
        requestAnimationFrame(animate);
        mesh.rotation.z += 0.0025;
        mesh.rotation.x += 0.002;
        // lerp to target
        mesh.position.x += (targetX*10 - mesh.position.x) * 0.06;
        mesh.position.y += (targetY*6 - mesh.position.y) * 0.06;
        shadow.position.x = mesh.position.x + 2;
        shadow.position.y = mesh.position.y - 3;
        renderer.render(scene, camera);
      }
      animate();
    });

    // resize handler
    window.addEventListener('resize', ()=>{
      const w = container.clientWidth, h = container.clientHeight;
      renderer.setSize(w,h);
      camera.aspect = w/h;
      camera.updateProjectionMatrix();
    });
  })();

  </script>
</body>
</html>
